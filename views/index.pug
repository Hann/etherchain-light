extends layout

block content
  div
    h3#first-title blocks
    div#block-select-container
      select#one-page-select.form-control
        each val in pagesList
          option(value=val, selected=(val === blocksPerPage)) #{val}개 씩 보기

  table.table
    thead
      tr
        th Number
        th Miner
        th Timestamp
        th # Tx
        th # Uncles
    tbody
      for block in blocks
        tr
          td
            a(href="/block/" + block.number) #{block.number}
          td 
            a(href="/account/" + block.author) #{nameformatter.format(block.author)}
          td #{moment.unix(block.timestamp).format()}
          td #{block.transactions.length}
          td #{block.uncles.length}
  if pages > 0
    div.text-cetner(align="center")
      ul.pagination
        if currentPageNumber === 1
          li.disabled
            a First
        else
          li
            a(href="/?page=1") First
        - var maxMinusOne = pagesFromMe - 1;         
        - var i = currentPageNumber > pagesFromMe ? currentPageNumber - maxMinusOne: 1;
        - console.log(i);
        if i !== 1
          li.disabled
            a ...
        while i <= currentPageNumber + maxMinusOne && i <= pages
          if i === currentPageNumber
            li.active
              a #{i}
          else
            li
              a(href='/?page=' + i) #{i}
          if i === currentPageNumber + maxMinusOne && i < pages
            li.disabled
              a ...
          - i += 1
        if currentPageNumber === pages
          li.disabled
            a Last
        else
          li
            a(href='/?page=' + pages) Last           
  h3 Transactions 
    small ocurred at this time
  if txs.length === 0
    p No transactions
  else
    table.table
      thead
        tr
          th Hash
          th From
          th To
          th Amount
      tbody
        for tx in txs
          tr
            td
              a(href="/tx/" + tx.hash) #{tx.hash.substr(0,10)}...
            td
              a(href="/account/" + tx.from) #{nameformatter.format(tx.from)}
            td
              if tx.to
                a(href="/account/" + tx.to) #{nameformatter.format(tx.to)}
              else
                | New Contract
            td #{ethformatter(tx.value)}            td #{ethformatter(tx.value)}

block extra_css
  link(rel='stylesheet', href='/stylesheets/index.css')
  link(rel='stylesheet', href='/stylesheets/fontawesome.css')
